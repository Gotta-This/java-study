# Java方法 - 06 - 递归

## 一、定义

A方法调用B方法，我们很容易理解！而递归就是：A方法调用A方法！就是自己调用自己，，比如说

```java
public class Demo05 {
    public static void main(String[] args) {
        Demo05 test = new Demo05();
        test.test();
    }
    public void test(){
        test();
    }
}
```

- 这样写代码会报出栈溢出的错误`StrackOverflowError`，只用于更好理解递归的定义

利用递归可以用简单的程序来解决一些复杂的问题。它通常把一个大型复杂的问题层层转化为一个与原问题相似的规模较小的问题来求解，递归策略只需少量的程序就可描述出解题过程所需要的多次重复计算，打大大地减少了程序的代码量。递归的能力在于用有限的语句来定义对象的无限集合。

**递归结构包括两个部分：**

- **递归头：什么时候不调用自己方法。如果没有头，将陷入死循环。**
- **递归体：什么时候需要调用自身方法。**

---

## 二、例子

### 阶乘

```java
public class Demo06 {
    //阶乘
    public static void main(String[] args) {
        System.out.println(f(5));
    }
    public static int f(int n){
        if(n==1){
            return 1;
        }return n*f(n-1);//调用自身
    }
}
```

---

## 三、递归的优缺点

***递归在实际运用中，能不用，就不用！！！***

### 优点

1. 简洁
2. 在树的前序，中序，后序遍历算法中，递归的实现明显要比循环简单得多

### 缺点

1. 递归由于是函数调用自身，而函数调用是有时间和空间的消耗的：每一次函数调用，都需要在内存栈中分配空间以保存参数、返回地址以及临时变量，而往栈中压入数据和弹出数据都需要时间。->效率
2. 递归中很多计算都是重复的，由于其本质是把一个问题分解成两个或者多个小问题，多个小问题存在相互重叠的部分，则存在重复计算，如fibonacci斐波那契数列的递归实现。->效率
3. 调用栈可能会溢出，其实每一次函数调用会在内存栈中分配空间，而每个进程的栈的容量是有限的，当调用的层次太多时，就会超出栈的容量，从而导致栈溢出。->性能

---

## 四、作业/实际运用

写一个计算器，要求实现加减乘除功能，并且能够循环接收新的数据，通过用户交互实现

- 思路推荐
  - 写四个方法
  - 利用循环 + `switch`进行用户交互
  - 传递需要操作的两个数
  - 输出结果

---